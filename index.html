<!DOCTYPE html>
<h1>Sorting Test</h1>
<html>
<style>
    table, tr, td{
        border : 1px solid black;
    }
</style>
<body>
    <p>
        <input type="text" id="UserID" disabled="false" value="1"/>
        <input type="text" id="UserName"/>
        <input type="text" id="UserOccupation"/>
        <input type="button" id="Add" value="Add"/>
    </p>
    <p>
        <label>Sort By:</label>    
        <select id="sortBy">
            <option value="UserID">UserID</option>
            <option value="UserName">UserName</option>
            <option value="UserOccupation">UserOccupation</option>
        </select>
    </p>
    <div id = "myDiv">

    </div>
</body>
</html>
<script>
let users = new Array();
let button = document.getElementById("Add");
button.onclick = addUser;
let dropDown = document.getElementById("sortBy");
dropDown.onchange = sort;
function addUser(){
    let x = {UserID:(document.getElementById("UserID").value),UserName:(document.getElementById("UserName").value), UserOccupation:(document.getElementById("UserOccupation").value)};
    users.push(x);
    createTable();
}
function createTable(){
    let x = document.getElementById("myDiv");
    let tableString = "<table border>";
    for (let i = 0; i < users.length; i++)
    {
        indexNum = i+1
        tableString+= "<tr><td>" + indexNum + "</td><td>" + users[i].UserName + "</td><td>" + users[i].UserOccupation + "</td></tr>";
    }
    tableString += "</table>";
    x.innerHTML = tableString;
    document.getElementById("UserID").value = users.length+1;
}

function sort(){
    let value = document.getElementById("sortBy").value
    users.sort(function(a,b){
        if (a[value] < b[value])
            return -1;
        else if (a[value] > b[value])
            return 1;
        else
            return 0;
    })
    createTable();
}




</script>